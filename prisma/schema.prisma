generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id              Int      @id @default(autoincrement())
  name            String?
  email           String   @unique
  salt            String
  hashed_password String
  token           Token[]
}

model Token {
  id            Int     @id @default(autoincrement())
  refresh_token String?
  user          User    @relation(fields: [userId], references: [id])
  userId        Int     @unique
}

model Category {
  id               Int             @id @default(autoincrement()) @map("id")
  category         String          @map("category")
  cocktails        Cocktail[]      @relation("CocktailCategory")
}

model Cocktail {
  id               String          @id @default(uuid()) @map("id")
  name             String          @map("name")
  drinkThumb       String          @map("drinkThumb")
  imageSource      String?         @map("imageSource")
  drinkAlternate   String?         @map("drinkAlternate")
  tags             String?         @map("tags")
  category         Category        @relation("CocktailCategory", fields: [categoryId], references: [id])
  categoryId       Int             @map("categoryId")
  iba              String?         @map("iba")
  alcoholic        String          @map("alcoholic")
  glass            String          @map("glass")
  instructions     String          @map("instructions")
  ingredients      Ingredient[]
}

model Ingredient {
  id               String          @id @default(uuid()) @map("id")
  name             String          @map("name")
  measurement      String          @map("measurement")
  cocktail         Cocktail?       @relation(fields: [cocktailId], references: [id])
  cocktailId       String?         @map("cocktailId")
}
